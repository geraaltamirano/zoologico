<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Registro</title>
    <link rel="stylesheet" href="style.css">
</head>
<script src="preload.js"></script>
<script>
    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
    }
    
    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
    }
    </script>
<body>
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div id="menuusuario" >
            <a  href="actualizarUsuario.html">Usuarios</a>
        </div>
        <a href="registrarEspecie.html">Especies</a>
        <a href="login.html">Salir</a>
      </div>
      <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

    <div class="encabezado">
        <h1> Zootopia</h1>
        <div class="containerdos">
            <button class="buttondos" onclick="location.href='registrarUsuario.html'">
                <img src="https://cdn-icons-png.flaticon.com/512/5070/5070296.png" width="25px">
            </button>
        </div>
        
    </div>
    
    <div class="container">
        
            <h2>Usuarios</h2>
            
        
   
    
        <input type="text" id="usuario-id" placeholder="usuario">
        <button onclick="consultarUsuario()">Consultar</button>
        <pre id="resultado"></pre>
    
    </div>
  
    <div class="container">
        <h2> </h2>
        <form id="registroForm">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required><br><br>

            <label for="apellidop">Apellido Paterno:</label>
            <input type="text" id="apellidop" name="apellidop" required><br><br>

            <label for="apellidom">Apellido Materno:</label>
            <input type="text" id="apellidom" name="apellidom" required><br><br>

            <label for="usuario">usuario:</label>
            <input type="text" id="usuario" name="usuario" required><br><br>


            <label for="clave">Clave:</label>
            <input type="text" id="clave" name="clave" required><br><br>

            <label for="cargo">Cargo:</label>
            <input type="text" id="cargo" name="cargo" required><br><br>

            <label for="rol">Rol:</label>
            <input type="text" id="rol" name="rol" required><br><br>

            <button type="submit">Actualizar</button>
        </form>
        <div id="mensaje"></div>
    </div>

    <script src="registrarUsuario.js"></script>

   
    <script>
       
        async function consultarUsuario() {
          const id = document.getElementById('usuario-id').value;
          const response = await fetch(`http://localhost:3000/usuarios/${id}`);
          const data = await response.json();
          var json = JSON.parse(JSON.stringify(data, null, 2));
          document.getElementById('nombre').value = json['nombre'];
          document.getElementById('apellidop').value = json['apellidop'];
          document.getElementById('apellidom').value = json['apellidom'];
          document.getElementById('usuario').value = json['usuariof'];
          document.getElementById('clave').value = json['clave'];
          document.getElementById('cargo').value = json['cargo'];
          document.getElementById('rol').value = json['rol'];
          document.getElementById('rol').value = json['rol'];

        }
      </script>
</body>
</html>